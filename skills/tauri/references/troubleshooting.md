# 故障排查

## `tauri dev` 无法启动

1. 单独运行前端命令，确认 `beforeDevCommand` 可启动。
2. 检查 `devUrl` 与前端端口是否一致。
3. 检查 Rust 工具链与 Node 包管理器是否安装完整。

## 前端 `invoke` 报命令不存在

1. 检查命令是否标记 `#[tauri::command]`。
2. 检查是否加入 `generate_handler![]`。
3. 检查前端调用名与 Rust 函数名是否一致。

## 权限被拒绝

1. 检查 capability 是否绑定正确窗口。
2. 检查 permission 标识符是否拼写正确。
3. 检查 scope 限制（路径、URL、参数）是否覆盖当前调用。

## 构建失败

1. 单独执行前端构建命令，确认静态产物已生成。
2. 检查 `frontendDist` 路径是否正确。
3. 切换到明确目标三元组重试（`--target`）。
4. 若仅发布失败，优先核对签名/证书配置。

## 排障输出规范

1. 记录失败命令与完整报错片段。
2. 记录当前平台、Rust 版本、Node 包管理器版本。
3. 先给最小复现命令，再给修复命令。
