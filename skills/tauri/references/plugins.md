# 官方插件接入流程

## 通用步骤

1. 安装插件（Rust crate + JS API 包）。
2. 在 Rust 入口注册插件。
3. 在 capability 中添加插件权限。
4. 在前端调用最小 API 做冒烟验证。

## 接入原则

1. 先接一个插件并验证，再批量接入。
2. 每个插件单独评估权限，不沿用其它插件的策略。
3. 插件配置与权限变更一起提交，避免“代码可调用但权限缺失”。

## 常见插件场景

- `fs`：本地文件读写与目录遍历。
- `http`：受控远程请求。
- `shell`：执行外部命令（风险最高，必须最小化）。
- `store`：本地键值存储。
- `dialog`：系统文件与消息对话框。

## 验收清单

1. 插件安装与注册无编译错误。
2. capability 权限与调用 API 一一对应。
3. 被拒绝的调用有可读错误信息。
4. 关闭权限后验证“确实不可调用”。
